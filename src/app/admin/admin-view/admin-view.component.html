<div class="container-fluid new-bg">
  <app-navbar [activePage]="'employee-listing'"></app-navbar> 
  <main class="container-fluid">
    <section class="col-md-10 mx-auto mt-3">
      <div class="d-flex flex-row-reverse mb-3 opacity-50">
        <input type="text" class="form-control w-25 bg-muted border-colorrr border-0" 
               placeholder="Search..." aria-label="Search">
      </div>

      <!-- Managers Table -->
      <h3 class="text-center">Managers</h3>
      <div class="table-responsive mb-4">
        <table class="table table-bordered border-colorrr text-center">
          <thead class="table-bordered border-colorrr">
            <tr>
              <th scope="col">Sl No</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">ID</th>
              <th scope="col">Edit</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let manager of paginatedManagers; let i = index">
              <td>{{ (currentPageManagers * pageSize) + i + 1 }}</td>
              <td>{{ manager.username }}</td>
              <td>{{ manager.email }}</td>
              <td>{{ manager.id }}</td>
              <td>
                <button type="button" class="btn btn-action" data-bs-toggle="modal" data-bs-target="#editManagerModal">
                  <i class="bi bi-pencil"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination Controls for Managers -->
      <div class="d-flex justify-content-center mb-4">
        <button class="btn btn-primary me-2" (click)="prevManagersPage()" [disabled]="currentPageManagers === 0">Previous</button>
        <button class="btn btn-primary" (click)="nextManagersPage()" 
                [disabled]="(currentPageManagers + 1) * pageSize >= managers.length">Next</button>
      </div>

      <!-- Employees Table -->
      <h3 class="text-center">Employees</h3>
      <div class="table-responsive">
        <table class="table table-bordered border-colorrr text-center">
          <thead class="table-bordered border-colorrr">
            <tr>
              <th scope="col">Sl No</th>
              <th scope="col">Name</th>
              <th scope="col">Manager</th>
              <th scope="col">Email</th>
              <th scope="col">ID</th>
              <th scope="col">Edit</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of paginatedEmployees; let i = index">
              <td>{{ (currentPageEmployees * pageSize) + i + 1 }}</td>
              <td>{{ employee.username }}</td>
              <td>{{ employee.manager }}</td>
              <td>{{ employee.email }}</td>
              <td>{{ employee.id }}</td>
              <td>
                <button type="button" class="btn btn-action" data-bs-toggle="modal" data-bs-target="#editEmployeeModal">
                  <i class="bi bi-pencil"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination Controls for Employees -->
      <div class="d-flex justify-content-center">
        <button class="btn btn-primary me-2" (click)="prevEmployeesPage()" [disabled]="currentPageEmployees === 0">Previous</button>
        <button class="btn btn-primary" (click)="nextEmployeesPage()" 
                [disabled]="(currentPageEmployees + 1) * pageSize >= employees.length">Next</button>
      </div>
      
    </section>
  </main>
</div>
